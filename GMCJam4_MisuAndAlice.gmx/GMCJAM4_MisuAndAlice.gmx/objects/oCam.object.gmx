<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>12</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// MAKING A GAME
z = 0
dir=0
ang=8
len=24
rot=0
atk=0
spd = 0.3
hsp = 0
vsp = 0
dsp = 0
jsp = 1
jump=0
grav=0.2
knok=0
push=0
life=8
stun=0
active=1
zheight=0

m3d_start()
d3d_set_hidden(1)
d3d_set_culling(0)
/////////////MODELS////////////////////////
globalvar dude,monkey;
//sea = m3d_model_create()
model = m3d_model_create()
monkey = m3d_model_create()
piso = m3d_model_create()
terra = m3d_model_create()

m3d_model_floor(piso,0,0,0,2048,2048,0,1,1,0);
m3d_model_block(model,-2,-2,8, 2,2,0, 1,1,1);
m3d_model_block(monkey,-3,-3,5, 3,3,0, 1,1,1);
//d3d_model_terrain(sea,sprite1,0,0,0,512,512,0.1,8,8,1,1);

dude=m3d_model_terrain(terra,sprite0,0,0,0,2048,2048,1,64,64,1,1);

m3d_model_finish(model)
m3d_model_finish(terra)
m3d_model_finish(piso)
m3d_model_finish(monkey)
//m3d_model_finish(sea)
/////////////////TEXTURES//////////////////
tex1 = sprite_get_texture(tex0,0);
tex2 = sprite_get_texture(tex0,1);
tex3 = sprite_get_texture(tex0,2);
d3d_set_fog(1,make_colour_rgb(128,165,255),64,500)
///////////////SPAWN////////////////////
instance_create(1024,1024,oMonky)
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>active=1
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>atk=0
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>stun=0
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Movements and Rotations
zheight = m3d_get_height(dude,x,y,2048,2048,64,64,0,0,1);
var ang1 = -sign(mouse_x-(window_get_width()/2))*(mouse_x&lt;&gt;(window_get_width()/2));
var ang2 = -sign(mouse_y-(window_get_height()/2))*(mouse_y&lt;&gt;(window_get_height()/2));
//var angp = point_distance(mouse_x,mouse_y,window_get_width()/2,window_get_height()/2);
dir -= ang1*2;//(keyboard_check(vk_left)-keyboard_check(vk_right));
dir = dir mod 360
ang -= ((ang2*2)*(ang&gt;-89));//(keyboard_check(vk_up)*(ang&lt;89))-(keyboard_check(vk_down)

var kp1 = (keyboard_check(ord('W'))-keyboard_check(ord('S')))*spd;
var kp2 = (keyboard_check(ord('A'))-keyboard_check(ord('D')))*spd;

if !abs(kp2)
{
hsp = lengthdir_x(kp1,-dir);
vsp = lengthdir_y(kp1,-dir);
}
else
{
hsp = lengthdir_x(kp2,-dir+(90));
vsp = lengthdir_y(kp2,-dir+(90));
}
//////////////////PHYSICS////////////////////////////
if (dsp&lt;8) dsp-=grav
if (z+dsp &lt; zheight)
{
 while(z-1 &gt; zheight)
 {
  z-=1
 }
 jump=0
 dsp=0
 spd=0.3
 z = zheight
}
//////Jump//////
////////////////
 if (place_meeting(x+hsp,y,oSolid))
 {
  while(!place_meeting(x+(sign(hsp)*(1/10000)),y,oSolid))
  {
   x += (sign(hsp)*(1/10000));
  }
  hsp=0
 }
 if (place_meeting(x,y+vsp,oSolid))
 {
  while(!place_meeting(x,y+(sign(vsp)*(1/10000)),oSolid))
  {
   y += (sign(vsp)*(1/10000));
  }
  vsp=0
 }
 x-=hsp
 y-=vsp
 z+=dsp
/////////////////////////////////////////////////////
window_mouse_set(window_get_width()/2,window_get_height()/2)
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Other stuff
var aka = mouse_check_button_pressed(mb_left);
if (aka &amp;&amp; active)
{
 atk=1
 active=0
 alarm[2]=10
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="3">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>m3d_model_destroy(model)
m3d_model_destroy(terra)
//m3d_model_destroy(sea)
m3d_model_destroy(piso)
m3d_model_destroy(monkey)
buffer_delete(dude)
m3d_end()
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="64">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Draw 2D GUI here
draw_text(4,4,string(active))
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>m3d_set_projection(0,x,y,z+9,dir,ang,len,0,0,1,60,800/450,1,1000)

m3d_model_draw(piso,0,0,4,0,0,0,1,1,1,tex2,1)
m3d_model_draw(terra,0,0,0,0,0,0,1,1,1,tex1,1)

m3d_model_draw(model,x,y,z,0,0,-dir,1,1,1,tex3,1);
with(oMonky){m3d_model_draw(monkey,x,y,z,0,0,dir,1,1,1,-1,1)}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="27">
      <action>
        <libid>1</libid>
        <id>332</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>1</exetype>
        <functionname>action_end_game</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
